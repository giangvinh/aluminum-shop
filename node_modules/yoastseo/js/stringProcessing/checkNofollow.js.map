{"version":3,"sources":["../../../js/stringProcessing/checkNofollow.js"],"names":["htmlparser","require","module","exports","anchorHTML","linkFollow","parser","Parser","onopentag","tagName","attributes","rel","toLowerCase","split","includes","write","end"],"mappings":"AAAA;AACA;AACA;;AACA,IAAIA,aAAaC,QAAQ,aAAR,CAAjB;AACA;;;;;;AAMAC,OAAOC,OAAP,GAAiB,UAAUC,UAAV,EAAsB;AACnC,QAAIC,aAAa,UAAjB;AACA,QAAIC,SAAS,IAAIN,WAAWO,MAAf,CAAsB;AAC/B;;;;;;;AAOAC,mBAAW,mBAAUC,OAAV,EAAmBC,UAAnB,EAA+B;AACtC,gBAAID,YAAY,GAAZ,IAAmB,CAACC,WAAWC,GAAnC,EAAwC;AACpC;AACH;AACD,gBAAID,WAAWC,GAAX,CAAeC,WAAf,GAA6BC,KAA7B,CAAmC,IAAnC,EAAyCC,QAAzC,CAAkD,UAAlD,CAAJ,EAAmE;AAC/DT,6BAAa,UAAb;AACH;AACJ;AAf8B,KAAtB,CAAb;AAiBAC,WAAOS,KAAP,CAAaX,UAAb;AACAE,WAAOU,GAAP;AACA,WAAOX,UAAP;AACH,CAtBD;AAuBA","file":"checkNofollow.js","sourcesContent":["\"use strict\";\n/** @module stringProcessing/checkNofollow */\n// We use an external library, which can be found here: https://github.com/fb55/htmlparser2.\nlet htmlparser = require(\"htmlparser2\");\n/**\n * Checks if a link has a `rel` attribute with a `nofollow` value. If it has, returns Nofollow, otherwise Dofollow.\n *\n * @param {string} anchorHTML The anchor HTML to check against.\n * @returns {string} Returns Dofollow or Nofollow.\n */\nmodule.exports = function (anchorHTML) {\n    let linkFollow = \"Dofollow\";\n    let parser = new htmlparser.Parser({\n        /**\n         * Detects if there is a `nofollow` value in the `rel` attribute of a link.\n         *\n         * @param {string} tagName The tag name.\n         * @param {object} attributes The tag attributes with the names and values of each attribute found.\n         * @returns {void}\n         */\n        onopentag: function (tagName, attributes) {\n            if (tagName !== \"a\" || !attributes.rel) {\n                return;\n            }\n            if (attributes.rel.toLowerCase().split(/\\s/).includes(\"nofollow\")) {\n                linkFollow = \"Nofollow\";\n            }\n        },\n    });\n    parser.write(anchorHTML);\n    parser.end();\n    return linkFollow;\n};\n//# sourceMappingURL=checkNofollow.js.map"]}