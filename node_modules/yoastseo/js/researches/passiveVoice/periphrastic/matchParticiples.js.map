{"version":3,"sources":["../../../../../js/researches/passiveVoice/periphrastic/matchParticiples.js"],"names":["find","require","forEach","memoize","includes","irregularsEnglish","irregularsRegularFrench","irregularsRegular","irregularsIrregularFrench","irregularsIrregular","irregularsEndingInSFrench","irregularsEndingInS","spanishParticiples","languageVariables","en","regularParticiplesRegex","fr","regularParticiples","word","language","match","matchFrenchParticipleWithSuffix","irregulars","suffixes","matches","irregular","irregularParticiplesRegex","RegExp","participleMatch","push","irregularParticiples","concat","irregularParticiple","module","exports"],"mappings":"AAAA;;AACA,IAAMA,OAAOC,QAAQ,aAAR,CAAb;AACA,IAAMC,UAAUD,QAAQ,gBAAR,CAAhB;AACA,IAAME,UAAUF,QAAQ,gBAAR,CAAhB;AACA,IAAMG,WAAWH,QAAQ,iBAAR,CAAjB;AACA,IAAMI,oBAAoBJ,QAAQ,uCAAR,GAA1B;AACA,IAAMK,0BAA0BL,QAAQ,sCAAR,IAAkDM,iBAAlF;AACA,IAAMC,4BAA4BP,QAAQ,sCAAR,IAAkDQ,mBAApF;AACA,IAAMC,4BAA4BT,QAAQ,sCAAR,IAAkDU,mBAApF;AACA,IAAMC,qBAAqBX,QAAQ,wCAAR,GAA3B;AACA;AACA,IAAMY,oBAAoB;AACtBC,QAAI;AACAC,iCAAyB;AADzB,KADkB;AAItBC,QAAI;AACAD,iCAAyB;AADzB;AAJkB,CAA1B;AAQA;;;;;;;;AAQA,IAAIE,qBAAqB,SAArBA,kBAAqB,CAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AAC/C;AACA,QAAIA,aAAa,IAAjB,EAAuB;AACnB,eAAO,EAAP;AACH;AACD;AACA,QAAMJ,0BAA0BF,kBAAkBM,QAAlB,EAA4BJ,uBAA5D;AACA,WAAOG,KAAKE,KAAL,CAAWL,uBAAX,KAAuC,EAA9C;AACH,CARD;AASA;;;;;;;;;AASA,IAAIM,kCAAkC,SAAlCA,+BAAkC,CAAUH,IAAV,EAAgBI,UAAhB,EAA4BC,QAA5B,EAAsC;AACxE,QAAIC,UAAU,EAAd;AACAtB,YAAQoB,UAAR,EAAoB,UAAUG,SAAV,EAAqB;AACrC,YAAMC,4BAA4B,IAAIC,MAAJ,CAAW,MAAMF,SAAN,GAAkBF,QAAlB,GAA6B,IAAxC,EAA8C,IAA9C,CAAlC;AACA,YAAIK,kBAAkBV,KAAKE,KAAL,CAAWM,yBAAX,CAAtB;AACA,YAAIE,eAAJ,EAAqB;AACjBJ,oBAAQK,IAAR,CAAaD,gBAAgB,CAAhB,CAAb;AACH;AACJ,KAND;AAOA,WAAOJ,OAAP;AACH,CAVD;AAWA;;;;;;;;AAQA,IAAIM,uBAAuB,SAAvBA,oBAAuB,CAAUZ,IAAV,EAAgBC,QAAhB,EAA0B;AACjD,QAAIK,UAAU,EAAd;AACA,YAAQL,QAAR;AACI,aAAK,IAAL;AACI;AACAK,sBAAUA,QAAQO,MAAR,CAAeV,gCAAgCH,IAAhC,EAAsCZ,uBAAtC,EAA+D,UAA/D,CAAf,CAAV;AACAkB,sBAAUA,QAAQO,MAAR,CAAeV,gCAAgCH,IAAhC,EAAsCR,yBAAtC,EAAiE,QAAjE,CAAf,CAAV;AACA;AACAV,iBAAKQ,yBAAL,EAAgC,UAAUwB,mBAAV,EAA+B;AAC3D,oBAAIA,wBAAwBd,IAA5B,EAAkC;AAC9BM,4BAAQK,IAAR,CAAaG,mBAAb;AACH;AACJ,aAJD;AAKA;AACJ,aAAK,IAAL;AACI;AACA,gBAAI5B,SAASQ,kBAAT,EAA6BM,IAA7B,CAAJ,EAAwC;AACpCM,wBAAQK,IAAR,CAAaX,IAAb;AACH;AACD;AACJ,aAAK,IAAL;AACA;AACIlB,iBAAKK,iBAAL,EAAwB,UAAU2B,mBAAV,EAA+B;AACnD,oBAAIA,wBAAwBd,IAA5B,EAAkC;AAC9BM,4BAAQK,IAAR,CAAaG,mBAAb;AACH;AACJ,aAJD;AAKA;AAzBR;AA2BA,WAAOR,OAAP;AACH,CA9BD;AA+BAS,OAAOC,OAAP,GAAiB,YAAY;AACzB,WAAO;AACHjB,4BAAoBd,QAAQc,kBAAR,CADjB;AAEHa,8BAAsB3B,QAAQ2B,oBAAR;AAFnB,KAAP;AAIH,CALD;AAMA","file":"matchParticiples.js","sourcesContent":["\"use strict\";\nconst find = require(\"lodash/find\");\nconst forEach = require(\"lodash/forEach\");\nconst memoize = require(\"lodash/memoize\");\nconst includes = require(\"lodash/includes\");\nconst irregularsEnglish = require(\"../../english/passiveVoice/irregulars\")();\nconst irregularsRegularFrench = require(\"../../french/passiveVoice/irregulars\")().irregularsRegular;\nconst irregularsIrregularFrench = require(\"../../french/passiveVoice/irregulars\")().irregularsIrregular;\nconst irregularsEndingInSFrench = require(\"../../french/passiveVoice/irregulars\")().irregularsEndingInS;\nconst spanishParticiples = require(\"../../spanish/passiveVoice/participles\")();\n// The language-specific participle regexes.\nconst languageVariables = {\n    en: {\n        regularParticiplesRegex: /\\w+ed($|[ \\n\\r\\t.,'()\"+\\-;!?:/»«‹›<>])/ig,\n    },\n    fr: {\n        regularParticiplesRegex: /\\S+(é|ée|és|ées)($|[ \\n\\r\\t.,'()\"+\\-;!?:/»«‹›<>])/ig,\n    },\n};\n/**\n * Returns words that have been determined to be a regular participle.\n *\n * @param {string} word The word to check.\n * @param {string} language The language in which to match.\n *\n * @returns {Array} A list with the matches.\n */\nlet regularParticiples = function (word, language) {\n    // In Spanish we don't match participles with a regular regex pattern.\n    if (language === \"es\") {\n        return [];\n    }\n    // Matches all words with a language-specific participle suffix.\n    const regularParticiplesRegex = languageVariables[language].regularParticiplesRegex;\n    return word.match(regularParticiplesRegex) || [];\n};\n/**\n * Returns an array of matches of irregular participles with suffixes.\n *\n * @param {string} word The word to match on.\n * @param {Array} irregulars The list of irregulars to match.\n * @param {string} suffixes The suffixes to match the word with.\n * @param {Array} matches The array into which to push the matches.\n * @returns {Array} A list with matched irregular participles.\n */\nlet matchFrenchParticipleWithSuffix = function (word, irregulars, suffixes) {\n    let matches = [];\n    forEach(irregulars, function (irregular) {\n        const irregularParticiplesRegex = new RegExp(\"^\" + irregular + suffixes + \"?$\", \"ig\");\n        let participleMatch = word.match(irregularParticiplesRegex);\n        if (participleMatch) {\n            matches.push(participleMatch[0]);\n        }\n    });\n    return matches;\n};\n/**\n * Returns the matches for a word in the list of irregulars.\n *\n * @param {string} word The word to match in the list.\n * @param {string} language The language for which to match.\n *\n * @returns {Array} A list with the matches.\n */\nlet irregularParticiples = function (word, language) {\n    let matches = [];\n    switch (language) {\n        case \"fr\":\n            // Match different classes of participles with suffixes.\n            matches = matches.concat(matchFrenchParticipleWithSuffix(word, irregularsRegularFrench, \"(e|s|es)\"));\n            matches = matches.concat(matchFrenchParticipleWithSuffix(word, irregularsEndingInSFrench, \"(e|es)\"));\n            // Match irregular participles that don't require adding a suffix.\n            find(irregularsIrregularFrench, function (irregularParticiple) {\n                if (irregularParticiple === word) {\n                    matches.push(irregularParticiple);\n                }\n            });\n            break;\n        case \"es\":\n            // In Spanish, we only match passives from a word list.\n            if (includes(spanishParticiples, word)) {\n                matches.push(word);\n            }\n            break;\n        case \"en\":\n        default:\n            find(irregularsEnglish, function (irregularParticiple) {\n                if (irregularParticiple === word) {\n                    matches.push(irregularParticiple);\n                }\n            });\n            break;\n    }\n    return matches;\n};\nmodule.exports = function () {\n    return {\n        regularParticiples: memoize(regularParticiples),\n        irregularParticiples: memoize(irregularParticiples),\n    };\n};\n//# sourceMappingURL=matchParticiples.js.map"]}