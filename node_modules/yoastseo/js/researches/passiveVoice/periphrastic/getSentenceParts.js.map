{"version":3,"sources":["../../../../../js/researches/passiveVoice/periphrastic/getSentenceParts.js"],"names":["indices","require","getIndicesOfList","getIndicesByWordList","filterIndices","sortIndices","stripSpaces","normalizeSingleQuotes","normalizeSingle","arrayToRegex","getWordIndices","includesIndex","followsIndex","filter","isUndefined","includes","map","forEach","SentencePartEnglish","auxiliariesEnglish","all","stopwordsEnglish","stopCharacterRegexEnglish","verbEndingInIngRegex","ingExclusionArray","SentencePartFrench","auxiliariesFrench","stopwordsFrench","stopCharacterRegexFrench","followingAuxiliaryExceptionWordsFrench","reflexivePronounsFrench","directPrecedenceExceptionRegex","elisionAuxiliaryExceptionWords","elisionAuxiliaryExceptionRegex","SentencePartSpanish","auxiliariesSpanish","stopwordsSpanish","stopCharacterRegexSpanish","followingAuxiliaryExceptionWordsSpanish","languageVariables","en","stopwords","auxiliaryRegex","SentencePart","auxiliaries","stopCharacterRegex","fr","followingAuxiliaryExceptionRegex","es","getVerbsEndingInIng","sentence","matches","match","getStopCharacters","language","lastIndex","exec","push","index","auxiliaryPrecedenceExceptionFilter","text","auxiliaryMatches","directPrecedenceExceptionMatches","auxiliaryMatch","auxiliaryObject","followingAuxiliaryExceptionFilter","followingAuxiliaryExceptionMatches","elisionAuxiliaryExceptionFilter","elisionAuxiliaryExceptionMatches","getSentenceBreakers","toLocaleLowerCase","auxiliaryIndices","stopwordIndices","stopCharacterIndices","concat","ingVerbs","ingVerbsIndices","getAuxiliaryMatches","sentencePart","auxiliaryMatchIndices","auxiliaryMatchWords","auxiliaryMatchIndex","getSentenceParts","sentenceParts","i","length","endIndex","substr","module","exports"],"mappings":"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","file":"getSentenceParts.js","sourcesContent":["\"use strict\";\nconst indices = require(\"../../../stringProcessing/indices\");\nconst getIndicesOfList = indices.getIndicesByWordList;\nconst filterIndices = indices.filterIndices;\nconst sortIndices = indices.sortIndices;\nconst stripSpaces = require(\"../../../stringProcessing/stripSpaces.js\");\nconst normalizeSingleQuotes = require(\"../../../stringProcessing/quotes.js\").normalizeSingle;\nconst arrayToRegex = require(\"../../../stringProcessing/createRegexFromArray.js\");\nconst getWordIndices = require(\"./getIndicesWithRegex.js\");\nconst includesIndex = require(\"../../../stringProcessing/includesIndex\");\nconst followsIndex = require(\"../../../stringProcessing/followsIndex\");\nconst filter = require(\"lodash/filter\");\nconst isUndefined = require(\"lodash/isUndefined\");\nconst includes = require(\"lodash/includes\");\nconst map = require(\"lodash/map\");\nconst forEach = require(\"lodash/forEach\");\n// English-specific constiables and imports.\nconst SentencePartEnglish = require(\"../../english/passiveVoice/SentencePart\");\nconst auxiliariesEnglish = require(\"../../english/passiveVoice/auxiliaries.js\")().all;\nconst stopwordsEnglish = require(\"../../english/passiveVoice/stopwords.js\")();\nconst stopCharacterRegexEnglish = /([:,]|('ll)|('ve))(?=[ \\n\\r\\t'\"+\\-»«‹›<>])/ig;\nconst verbEndingInIngRegex = /\\w+ing(?=$|[ \\n\\r\\t.,'()\"+\\-;!?:/»«‹›<>])/ig;\nconst ingExclusionArray = [\"king\", \"cling\", \"ring\", \"being\", \"thing\", \"something\", \"anything\"];\n// French-specific variables and imports.\nconst SentencePartFrench = require(\"../../french/passiveVoice/SentencePart\");\nconst auxiliariesFrench = require(\"../../french/passiveVoice/auxiliaries.js\")();\nconst stopwordsFrench = require(\"../../french/passiveVoice/stopwords.js\")();\nconst stopCharacterRegexFrench = /(,)(?=[ \\n\\r\\t'\"+\\-»«‹›<>])/ig;\nconst followingAuxiliaryExceptionWordsFrench = [\"le\", \"la\", \"les\", \"une\", \"l'un\", \"l'une\"];\nconst reflexivePronounsFrench = [\"se\", \"me\", \"te\", \"s'y\", \"m'y\", \"t'y\", \"nous nous\", \"vous vous\"];\nconst directPrecedenceExceptionRegex = arrayToRegex(reflexivePronounsFrench);\nconst elisionAuxiliaryExceptionWords = [\"c'\", \"s'\", \"peut-\"];\nconst elisionAuxiliaryExceptionRegex = arrayToRegex(elisionAuxiliaryExceptionWords, true);\n// Spanish-specific variables and imports.\nconst SentencePartSpanish = require(\"../../spanish/passiveVoice/SentencePart\");\nconst auxiliariesSpanish = require(\"../../spanish/passiveVoice/auxiliaries.js\")();\nconst stopwordsSpanish = require(\"../../spanish/passiveVoice/stopwords.js\")();\nconst stopCharacterRegexSpanish = /([:,])(?=[ \\n\\r\\t'\"+\\-»«‹›<>])/ig;\nconst followingAuxiliaryExceptionWordsSpanish = [\"el\", \"la\", \"los\", \"las\", \"una\"];\n// The language-specific variables used to split sentences into sentence parts.\nconst languageVariables = {\n    en: {\n        stopwords: stopwordsEnglish,\n        auxiliaryRegex: arrayToRegex(auxiliariesEnglish),\n        SentencePart: SentencePartEnglish,\n        auxiliaries: auxiliariesEnglish,\n        stopCharacterRegex: stopCharacterRegexEnglish,\n    },\n    fr: {\n        stopwords: stopwordsFrench,\n        auxiliaryRegex: arrayToRegex(auxiliariesFrench),\n        SentencePart: SentencePartFrench,\n        auxiliaries: auxiliariesFrench,\n        stopCharacterRegex: stopCharacterRegexFrench,\n        followingAuxiliaryExceptionRegex: arrayToRegex(followingAuxiliaryExceptionWordsFrench),\n    },\n    es: {\n        stopwords: stopwordsSpanish,\n        auxiliaryRegex: arrayToRegex(auxiliariesSpanish),\n        SentencePart: SentencePartSpanish,\n        auxiliaries: auxiliariesSpanish,\n        stopCharacterRegex: stopCharacterRegexSpanish,\n        followingAuxiliaryExceptionRegex: arrayToRegex(followingAuxiliaryExceptionWordsSpanish),\n    },\n};\n/**\n * Gets active verbs (ending in ing) to determine sentence breakers in English.\n *\n * @param {string} sentence The sentence to get the active verbs from.\n * @returns {Array} The array with valid matches.\n */\nlet getVerbsEndingInIng = function (sentence) {\n    // Matches the sentences with words ending in ing.\n    let matches = sentence.match(verbEndingInIngRegex) || [];\n    // Filters out words ending in -ing that aren't verbs.\n    return filter(matches, function (match) {\n        return !includes(ingExclusionArray, stripSpaces(match));\n    });\n};\n/**\n * Gets stop characters to determine sentence breakers.\n *\n * @param {string} sentence The sentence to get the stop characters from.\n * @param {string} language The language for which to get the stop characters.\n * @returns {Array} The array with stop characters.\n */\nlet getStopCharacters = function (sentence, language) {\n    const stopCharacterRegex = languageVariables[language].stopCharacterRegex;\n    let match;\n    let matches = [];\n    stopCharacterRegex.lastIndex = 0;\n    while ((match = stopCharacterRegex.exec(sentence)) !== null) {\n        matches.push({\n            index: match.index,\n            match: match[0],\n        });\n    }\n    return matches;\n};\n/**\n * Filters auxiliaries preceded by a reflexive pronoun.\n *\n * @param {string} text The text part in which to check.\n * @param {Array} auxiliaryMatches The auxiliary matches for which to check.\n * @returns {Array} The filtered list of auxiliary indices.\n */\nlet auxiliaryPrecedenceExceptionFilter = function (text, auxiliaryMatches) {\n    let directPrecedenceExceptionMatches = getWordIndices(text, directPrecedenceExceptionRegex);\n    forEach(auxiliaryMatches, function (auxiliaryMatch) {\n        if (includesIndex(directPrecedenceExceptionMatches, auxiliaryMatch.index)) {\n            auxiliaryMatches = auxiliaryMatches.filter(function (auxiliaryObject) {\n                return auxiliaryObject.index !== auxiliaryMatch.index;\n            });\n        }\n    });\n    return auxiliaryMatches;\n};\n/**\n * Filters auxiliaries followed by a word on the followingAuxiliaryExceptionWords list.\n *\n * @param {string} text The text part in which to check.\n * @param {Array} auxiliaryMatches The auxiliary matches for which to check.\n * @param {string} language The language for which to filter the auxiliaries.\n * @returns {Array} The filtered list of auxiliary indices.\n */\nlet followingAuxiliaryExceptionFilter = function (text, auxiliaryMatches, language) {\n    let followingAuxiliaryExceptionRegex = languageVariables[language].followingAuxiliaryExceptionRegex;\n    let followingAuxiliaryExceptionMatches = getWordIndices(text, followingAuxiliaryExceptionRegex);\n    forEach(auxiliaryMatches, function (auxiliaryMatch) {\n        if (followsIndex(followingAuxiliaryExceptionMatches, auxiliaryMatch)) {\n            auxiliaryMatches = auxiliaryMatches.filter(function (auxiliaryObject) {\n                return auxiliaryObject.index !== auxiliaryMatch.index;\n            });\n        }\n    });\n    return auxiliaryMatches;\n};\n/**\n * Filters auxiliaries preceded by an elided word (e.g., s') on the elisionAuxiliaryExceptionWords list.\n *\n * @param {string} text The text part in which to check.\n * @param {Array} auxiliaryMatches The auxiliary matches for which to check.\n * @returns {Array} The filtered list of auxiliary indices.\n */\nlet elisionAuxiliaryExceptionFilter = function (text, auxiliaryMatches) {\n    let elisionAuxiliaryExceptionMatches = getWordIndices(text, elisionAuxiliaryExceptionRegex);\n    forEach(auxiliaryMatches, function (auxiliaryMatch) {\n        if (includesIndex(elisionAuxiliaryExceptionMatches, auxiliaryMatch.index, false)) {\n            auxiliaryMatches = auxiliaryMatches.filter(function (auxiliaryObject) {\n                return auxiliaryObject.index !== auxiliaryMatch.index;\n            });\n        }\n    });\n    return auxiliaryMatches;\n};\n/**\n * Gets the indexes of sentence breakers (auxiliaries, stopwords and stop characters;\n * in English also active verbs) to determine sentence parts.\n * Indices are filtered because there could be duplicate matches, like \"even though\" and \"though\".\n * In addition, 'having' will be matched both as a -ing verb as well as an auxiliary.\n *\n * @param {string} sentence The sentence to check for indices of sentence breakers.\n * @param {string} language The language for which to match the sentence breakers.\n * @returns {Array} The array with valid indices to use for determining sentence parts.\n */\nlet getSentenceBreakers = function (sentence, language) {\n    sentence = sentence.toLocaleLowerCase();\n    const stopwords = languageVariables[language].stopwords;\n    const auxiliaries = languageVariables[language].auxiliaries;\n    let auxiliaryIndices = getIndicesOfList(auxiliaries, sentence);\n    let stopwordIndices = getIndicesOfList(stopwords, sentence);\n    let stopCharacterIndices = getStopCharacters(sentence, language);\n    let indices;\n    // Concat all indices arrays, filter them and sort them.\n    switch (language) {\n        case \"fr\":\n            // Filters auxiliaries matched in the sentence based on a precedence exception filter.\n            auxiliaryIndices = auxiliaryPrecedenceExceptionFilter(sentence, auxiliaryIndices);\n            // Filters auxiliaries matched in the sentence based on a elision exception filter.\n            auxiliaryIndices = elisionAuxiliaryExceptionFilter(sentence, auxiliaryIndices);\n            indices = [].concat(auxiliaryIndices, stopwordIndices, stopCharacterIndices);\n            break;\n        case \"es\":\n            indices = [].concat(auxiliaryIndices, stopwordIndices, stopCharacterIndices);\n            break;\n        case \"en\":\n        default:\n            var ingVerbs = getVerbsEndingInIng(sentence);\n            var ingVerbsIndices = getIndicesOfList(ingVerbs, sentence);\n            indices = [].concat(auxiliaryIndices, stopwordIndices, ingVerbsIndices, stopCharacterIndices);\n            break;\n    }\n    indices = filterIndices(indices);\n    return sortIndices(indices);\n};\n/**\n * Gets the auxiliaries from a sentence.\n *\n * @param {string} sentencePart The part of the sentence to match for auxiliaries.\n * @param {string} language The language for which to match the auxiliaries.\n * @returns {Array} All formatted matches from the sentence part.\n */\nlet getAuxiliaryMatches = function (sentencePart, language) {\n    const auxiliaryRegex = languageVariables[language].auxiliaryRegex;\n    let auxiliaryMatches = sentencePart.match(auxiliaryRegex) || [];\n    switch (language) {\n        case \"fr\":\n        case \"es\":\n            // An array with the matched auxiliaries and their indices.\n            var auxiliaryMatchIndices = getIndicesOfList(auxiliaryMatches, sentencePart);\n            if (language === \"fr\") {\n                // Filters auxiliaries matched in the sentence part based on a precedence exception filter.\n                auxiliaryMatchIndices = auxiliaryPrecedenceExceptionFilter(sentencePart, auxiliaryMatchIndices);\n            }\n            // Filters auxiliaries matched in the sentence part based on a exception filter for words following the auxiliary.\n            auxiliaryMatchIndices = followingAuxiliaryExceptionFilter(sentencePart, auxiliaryMatchIndices, language);\n            // An array with the matched auxiliary verbs (without indices).\n            var auxiliaryMatchWords = [];\n            forEach(auxiliaryMatchIndices, function (auxiliaryMatchIndex) {\n                auxiliaryMatchWords.push(auxiliaryMatchIndex.match);\n            });\n            return map(auxiliaryMatchWords, function (auxiliaryMatch) {\n                return stripSpaces(auxiliaryMatch);\n            });\n        case \"en\":\n        default:\n            return map(auxiliaryMatches, function (auxiliaryMatch) {\n                return stripSpaces(auxiliaryMatch);\n            });\n    }\n};\n/**\n * Gets the sentence parts from a sentence by determining sentence breakers.\n *\n * @param {string} sentence The sentence to split up in sentence parts.\n * @param {string} language The language for which to get the sentence parts.\n * @returns {Array} The array with all parts of a sentence that have an auxiliary.\n */\nlet getSentenceParts = function (sentence, language) {\n    let sentenceParts = [];\n    const auxiliaryRegex = languageVariables[language].auxiliaryRegex;\n    let SentencePart = languageVariables[language].SentencePart;\n    sentence = normalizeSingleQuotes(sentence);\n    // First check if there is an auxiliary in the sentence.\n    if (sentence.match(auxiliaryRegex) === null) {\n        return sentenceParts;\n    }\n    let indices = getSentenceBreakers(sentence, language);\n    // Get the words after the found auxiliary.\n    for (let i = 0; i < indices.length; i++) {\n        let endIndex = sentence.length;\n        if (!isUndefined(indices[i + 1])) {\n            endIndex = indices[i + 1].index;\n        }\n        // Cut the sentence from the current index to the endIndex (start of next breaker, of end of sentence).\n        let sentencePart = stripSpaces(sentence.substr(indices[i].index, endIndex - indices[i].index));\n        let auxiliaryMatches = getAuxiliaryMatches(sentencePart, language);\n        // If a sentence part doesn't have an auxiliary, we don't need it, so it can be filtered out.\n        if (auxiliaryMatches.length !== 0) {\n            sentenceParts.push(new SentencePart(sentencePart, auxiliaryMatches));\n        }\n    }\n    return sentenceParts;\n};\n/**\n * Split the sentence in sentence parts based on auxiliaries.\n *\n * @param {string} sentence The sentence to split in parts.\n * @param {string} language The language for which to get the sentence parts.\n * @returns {Array} A list with sentence parts.\n */\nmodule.exports = function (sentence, language) {\n    return getSentenceParts(sentence, language);\n};\n//# sourceMappingURL=getSentenceParts.js.map"]}